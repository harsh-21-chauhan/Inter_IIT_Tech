<div class="flex items-start gap-4">
  <div class="flex-1">
    <div class="flex items-baseline gap-2 mb-1">
      <p class="text-sm font-bold text-slate-900 dark:text-white">{{ comment.user.username }}</p>
    </div>

    <p class="text-sm text-slate-700 dark:text-slate-300">
      {{ comment.content }}
    </p>

    <!-- Reply button -->
  <button
  class="text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 mt-2 transition-colors duration-200"
  type="button"
  onclick="document.getElementById('reply-form-{{ comment.id }}').classList.toggle('hidden')">
  Reply
</button>


    <!-- Reply form for this comment -->
    <form method="post" id="reply-form-{{ comment.id }}" action="{{ request.path }}" class="hidden mt-3">
      {% csrf_token %}
      <input type="hidden" name="parent_id" value="{{ comment.id }}">
      <textarea name="content" rows="2" placeholder="Write a reply..."
        class="block w-full px-4 py-3 bg-gray-800 border-border-dark rounded-lg focus:ring-primary focus:border-primary placeholder-subtext-dark text-text-dark"></textarea>
      <button 
  type="submit"
  class="mt-2 bg-indigo-600 hover:bg-indigo-700 dark:bg-indigo-500 dark:hover:bg-indigo-600 text-white py-1.5 px-4 rounded-lg shadow-sm text-sm font-medium transition-all duration-200">
  Reply
</button>

    </form>

    <!-- Nested replies -->
    <div class="mt-4 pl-6 border-l border-slate-200 dark:border-slate-700 space-y-4">
      {% for reply in comment.replies.all %}
        {% include "comment_item.html" with comment=reply %}
      {% endfor %}
    </div>

  </div>
</div>